<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aiden Becker | Aiden_OS v2.2</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;700&family=Space+Grotesk:wght@700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff007f;
            --secondary: #7000ff;
            --bg: #030303;
            --card-bg: #0a0a0a;
            --text-main: #ffffff;
            --text-dim: #a1a1aa;
            --glass-border: rgba(255, 255, 255, 0.1);
            --transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; cursor: crosshair; }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            overflow: hidden;
            height: 100vh;
        }

        /* MATRIX BACKGROUND */
        #matrix-canvas { position: fixed; inset: 0; z-index: -2; opacity: 0; transition: 1s; pointer-events: none; }
        
        .bg-glow {
            position: fixed; inset: 0;
            background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), var(--primary) 0%, transparent 40%);
            opacity: 0.15; z-index: -1; pointer-events: none;
        }

        /* NAVIGATION */
        nav {
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 5%; height: 90px;
            background: rgba(10,10,10,0.8); backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border); z-index: 1000;
        }

        .nav-links { display: flex; gap: 15px; }
        .nav-btn {
            background: rgba(255, 255, 255, 0.05); border: 1px solid var(--glass-border);
            color: var(--text-dim); padding: 14px 28px; border-radius: 12px;
            font-size: 1rem; font-weight: 800; text-transform: uppercase;
            transition: var(--transition);
        }
        .nav-btn:hover, .nav-btn.active {
            background: var(--primary); color: white; border-color: var(--primary);
            box-shadow: 0 0 20px rgba(255, 0, 127, 0.4); transform: translateY(-2px);
        }

        /* VIEWPORT */
        #desktop { height: calc(100vh - 90px); overflow-y: auto; padding: 40px 8%; position: relative; }
        .page { display: none; animation: slideUp 0.4s ease; }
        .page.active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* DRAGGABLE WINDOW */
        .window {
            position: absolute; background: var(--card-bg); border: 2px solid var(--primary);
            border-radius: 12px; z-index: 100; min-width: 350px; display: none; flex-direction: column;
            box-shadow: 0 20px 50px rgba(0,0,0,0.7);
        }
        .window-header { padding: 12px; background: rgba(255,255,255,0.05); cursor: move; display: flex; justify-content: space-between; font-family: 'Fira Code'; font-size: 0.8rem; }

        /* MUSIC CARDS */
        .song-card {
            background: var(--card-bg); border: 1px solid var(--glass-border);
            padding: 20px; border-radius: 15px; display: flex; align-items: center;
            gap: 20px; margin-bottom: 15px; transition: 0.3s;
        }
        .song-card:hover { border-color: var(--primary); background: rgba(255,255,255,0.02); }
        .album-art { width: 60px; height: 60px; border-radius: 8px; background: #222; }
        
        audio { filter: invert(1) hue-rotate(270deg) brightness(1.5); width: 200px; }

        /* THEME GRID */
        .theme-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; }
        .theme-item { 
            padding: 15px; background: #111; border: 1px solid var(--glass-border); 
            border-radius: 10px; text-align: center; font-size: 0.8rem; transition: 0.2s;
        }
        .theme-item:hover { transform: scale(1.05); border-color: var(--primary); }

        /* POPUP */
        #now-playing {
            position: fixed; bottom: 30px; left: 30px; background: #000;
            border: 2px solid var(--primary); padding: 15px; border-radius: 12px;
            display: flex; align-items: center; gap: 15px; transform: translateY(200%);
            transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 10000;
        }
        #now-playing.visible { transform: translateY(0); }
    </style>
</head>
<body>

    <canvas id="matrix-canvas"></canvas>
    <div class="bg-glow"></div>

    <nav>
        <div class="logo" style="font-size: 1.8rem;">AIDEN_<span style="color:var(--primary)">OS</span></div>
        <div class="nav-links">
            <button class="nav-btn active" onclick="showPage('home')">Home</button>
            <button class="nav-btn" onclick="showPage('music')">Music</button>
            <button class="nav-btn" onclick="showPage('arcade')">Arcade</button>
            <button class="nav-btn" onclick="showPage('themes')">Themes</button>
        </div>
        <div id="clock" style="font-family:'Fira Code'; color:var(--primary); font-weight: bold;">00:00:00</div>
    </nav>

    <div id="desktop">
        <div id="home" class="page active">
            <h1 style="font-size: 4rem;">SYSTEM:<span style="color:var(--primary)">READY</span></h1>
            <div style="background: var(--card-bg); padding: 30px; border-radius: 20px; border: 1px solid var(--glass-border); margin-top: 20px; max-width: 800px;">
                <p style="font-size: 1.3rem; line-height: 1.6;">
                    Welcome to the central hub. I'm Aiden, a developer and musician. Explore the tabs to change the system's look or play some tracks.
                </p>
            </div>
        </div>

        <div id="music" class="page">
            <h2 style="margin-bottom: 20px;">Audio Kernel</h2>
            <div id="music-list"></div>
        </div>

        <div id="arcade" class="page">
            <h2>Arcade_Emulator</h2>
            <div style="margin-top:20px; border: 2px solid var(--primary); aspect-ratio: 16/9; border-radius: 20px; overflow: hidden; background: #000;">
                <iframe src="game.html" style="width:100%; height:100%; border:none;"></iframe>
            </div>
        </div>

        <div id="themes" class="page">
            <h2 style="margin-bottom: 20px;">Visual Modules</h2>
            <div class="theme-grid" id="theme-grid"></div>
        </div>

        <div id="term-window" class="window" style="top: 50px; right: 50px;">
            <div class="window-header" id="term-header"><span>AIDEN_TERMINAL</span><span onclick="toggleTerm()" style="color:red; cursor:pointer">‚óè</span></div>
            <div id="term-body" style="height: 200px; padding: 15px; font-family:'Fira Code'; font-size: 0.8rem; overflow-y: auto; color: var(--primary);"></div>
            <input type="text" id="term-input" onkeypress="if(event.key==='Enter') runCmd()" placeholder="Enter command..." style="background:transparent; border:none; border-top:1px solid #333; padding:10px; color:white; outline:none;">
        </div>
    </div>

    <div id="now-playing">
        <div id="pop-art" style="width:40px; height:40px; background:var(--primary); border-radius:4px;"></div>
        <div>
            <div id="pop-title" style="font-weight:bold; font-size:0.9rem;">Track Title</div>
            <div id="pop-artist" style="font-size:0.7rem; color:var(--primary)">Artist Name</div>
        </div>
    </div>

    <button onclick="toggleTerm()" style="position:fixed; bottom: 30px; right: 30px; padding: 15px 25px; background: var(--primary); border: none; border-radius: 12px; font-weight: bold; color: white;">CMD</button>

    <script>
        // MOUSE TRACKING
        document.addEventListener('mousemove', e => {
            document.documentElement.style.setProperty('--mouse-x', e.clientX + 'px');
            document.documentElement.style.setProperty('--mouse-y', e.clientY + 'px');
        });

        // PAGE NAVIGATION
        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        // AUDIO ENGINE
        const songs = [
            { t: "Smells Like Teen Spirit", a: "Nirvana", src: "music/nirvana.mp3" },
            { t: "On Melancholy Hill", a: "Gorillaz", src: "music/gorillaz.mp3" },
            { t: "American Idiot", a: "Green Day", src: "music/greenday.mp3" }
        ];

        const mList = document.getElementById('music-list');
        songs.forEach(s => {
            const card = document.createElement('div');
            card.className = 'song-card';
            card.innerHTML = `
                <div class="album-art"></div>
                <div style="flex:1"><strong>${s.t}</strong><br><small style="color:var(--text-dim)">${s.a}</small></div>
                <audio controls src="${s.src}" data-title="${s.t}" data-artist="${s.a}"></audio>
            `;
            mList.appendChild(card);
        });

        document.addEventListener('play', (e) => {
            document.querySelectorAll('audio').forEach(a => { if(a !== e.target) a.pause() });
            const pop = document.getElementById('now-playing');
            document.getElementById('pop-title').innerText = e.target.dataset.title;
            document.getElementById('pop-artist').innerText = e.target.dataset.artist;
            pop.classList.add('visible');
            setTimeout(() => pop.classList.remove('visible'), 5000);
        }, true);

        // 20+ THEMES
        const themes = [
            { n: "Neon Rose", p: "#ff007f", s: "#7000ff" },
            { n: "Nevermind", p: "#00f2ff", s: "#003366" },
            { n: "The Matrix", p: "#00ff41", s: "#003b00", m: true },
            { n: "Gold Rush", p: "#ffcc00", s: "#996600" },
            { n: "Bloody", p: "#ff0000", s: "#330000" },
            { n: "Synthwave", p: "#ff00ff", s: "#00ffff" },
            { n: "Electric Blue", p: "#00fbff", s: "#0044ff" },
            { n: "Emerald", p: "#00ff88", s: "#004422" },
            { n: "Lava", p: "#ff4800", s: "#880000" },
            { n: "Sunset", p: "#ff5e00", s: "#ff007f" },
            { n: "Midnight", p: "#191970", s: "#000080" },
            { n: "Sakura", p: "#ffb7c5", s: "#ff69b4" },
            { n: "Oceanic", p: "#0088ff", s: "#002244" },
            { n: "Grape", p: "#cc00ff", s: "#440066" },
            { n: "Toxic", p: "#adff2f", s: "#228b22" },
            { n: "Vampire", p: "#990000", s: "#111111" },
            { n: "Blueprint", p: "#0047ab", s: "#ffffff" },
            { n: "Rust", p: "#b7410e", s: "#5e270e" },
            { n: "Ghost", p: "#f8f8ff", s: "#708090" },
            { n: "Copper", p: "#b87333", s: "#1a1a1a" }
        ];

        const tGrid = document.getElementById('theme-grid');
        themes.forEach(t => {
            const item = document.createElement('div');
            item.className = 'theme-item';
            item.innerHTML = `<div style="height:30px; background:${t.p}; margin-bottom:10px; border-radius:5px;"></div>${t.n}`;
            item.onclick = () => {
                document.documentElement.style.setProperty('--primary', t.p);
                document.documentElement.style.setProperty('--secondary', t.s);
                document.getElementById('matrix-canvas').style.opacity = t.m ? "0.4" : "0";
            };
            tGrid.appendChild(item);
        });

        // TERMINAL DRAGGING
        function dragElement(elmnt) {
            var p1 = 0, p2 = 0, p3 = 0, p4 = 0;
            document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
            function dragMouseDown(e) { e.preventDefault(); p3 = e.clientX; p4 = e.clientY; document.onmouseup = closeDrag; document.onmousemove = elementDrag; }
            function elementDrag(e) { e.preventDefault(); p1 = p3 - e.clientX; p2 = p4 - e.clientY; p3 = e.clientX; p4 = e.clientY; elmnt.style.top = (elmnt.offsetTop - p2) + "px"; elmnt.style.left = (elmnt.offsetLeft - p1) + "px"; }
            function closeDrag() { document.onmouseup = null; document.onmousemove = null; }
        }
        dragElement(document.getElementById("term-window"));

        function toggleTerm() {
            const t = document.getElementById('term-window');
            t.style.display = (t.style.display === 'flex') ? 'none' : 'flex';
        }

        function runCmd() {
            const i = document.getElementById('term-input');
            const b = document.getElementById('term-body');
            b.innerHTML += `<br>> ${i.value}`;
            i.value = "";
            b.scrollTop = b.scrollHeight;
        }

        // CLOCK
        setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);

        // MATRIX RAIN
        const c = document.getElementById('matrix-canvas');
        const ctx = c.getContext('2d');
        c.width = window.innerWidth; c.height = window.innerHeight;
        const drops = Array(Math.floor(c.width/16)).fill(1);
        function drawMatrix() {
            ctx.fillStyle = "rgba(0,0,0,0.05)"; ctx.fillRect(0,0,c.width,c.height);
            ctx.fillStyle = "#0f0"; ctx.font = "16px monospace";
            drops.forEach((y, i) => {
                ctx.fillText(String.fromCharCode(Math.random()*128), i*16, y*16);
                if(y*16 > c.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        }
        setInterval(drawMatrix, 50);
    </script>
</body>
</html>
