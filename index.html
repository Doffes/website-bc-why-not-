<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aiden_OS v4.2 | Titanium Final</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f2ff;
            --bg: #020202;
            --card: rgba(20, 20, 20, 0.95);
            --border: rgba(255, 255, 255, 0.1);
            --text: #ffffff;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; cursor: crosshair; user-select: none; }
        body { font-family: 'Space Grotesk', sans-serif; background: var(--bg); color: var(--text); height: 100vh; overflow: hidden; }

        /* --- SCREENS --- */
        #boot-screen { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: opacity 1s; }
        #login-screen { position: fixed; inset: 0; background: radial-gradient(circle at center, #111, #000); z-index: 9999; display: none; align-items: center; justify-content: center; }
        .login-box { text-align: center; padding: 40px; border: 1px solid var(--border); border-radius: 24px; background: rgba(0,0,0,0.8); width: 320px; backdrop-filter: blur(20px); }

        /* --- OS UI --- */
        #os-interface { display: none; height: 100vh; flex-direction: column; }
        nav { height: 65px; display: flex; justify-content: space-between; align-items: center; padding: 0 30px; border-bottom: 1px solid var(--border); background: rgba(0,0,0,0.9); z-index: 1000; }
        .nav-btn { background: transparent; border: 1px solid transparent; color: #777; padding: 10px 20px; cursor: pointer; font-weight: 700; border-radius: 8px; transition: 0.3s; }
        .nav-btn.active { color: var(--primary); border-color: rgba(0, 242, 255, 0.3); background: rgba(0, 242, 255, 0.05); }

        #desktop { display: flex; flex: 1; position: relative; background-image: radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px); background-size: 40px 40px; }
        .sidebar { width: 90px; border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; padding-top: 20px; gap: 25px; background: rgba(0,0,0,0.6); z-index: 5; }
        
        /* FILES */
        .file-node { position: absolute; width: 90px; text-align: center; padding: 10px; border-radius: 8px; border: 1px solid transparent; z-index: 10; transition: background 0.2s; }
        .file-node:hover { background: rgba(255,255,255,0.05); }
        .file-node.selected { background: rgba(0, 242, 255, 0.1); border-color: var(--primary); }
        .file-node div { font-size: 2.2rem; margin-bottom: 5px; }
        .file-node span { font-size: 0.7rem; font-weight: 500; display: block; }

        /* OVERLAYS */
        .page-overlay { position: absolute; inset: 0; padding: 40px; background: rgba(5,5,5,0.98); display: none; z-index: 100; overflow-y: auto; backdrop-filter: blur(15px); }
        .page-overlay.active { display: block; }
        
        #about-popup { 
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 400px; background: #111; border: 2px solid var(--primary);
            border-radius: 15px; padding: 30px; z-index: 2000; display: none;
            box-shadow: 0 0 50px rgba(0,0,0,1);
        }

        /* CONTEXT MENU */
        #ctx-menu { position: fixed; background: #121212; border: 1px solid #333; border-radius: 8px; padding: 6px 0; z-index: 10001; display: none; width: 170px; }
        .ctx-item { padding: 10px 18px; font-size: 0.8rem; color: #ccc; cursor: pointer; }
        .ctx-item:hover { background: var(--primary); color: #000; font-weight: bold; }

        .theme-card { background:#111; padding:15px; border-radius:12px; border:1px solid #333; text-align:center; cursor:pointer; font-size: 0.75rem; }
        footer { height: 35px; border-top: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; padding: 0 20px; font-size: 0.7rem; font-family: 'Fira Code'; color: #444; background: #000; }
    </style>
</head>
<body oncontextmenu="handleGlobalCtx(event)">

    <div id="boot-screen" onclick="initKernel()">
        <div style="font-size: 2rem; font-weight: 700; letter-spacing: 5px;">AIDEN_OS</div>
        <div id="boot-status" style="margin-top:20px; font-family:'Fira Code'; color:var(--primary)">CLICK TO BOOT</div>
    </div>

    <div id="login-screen">
        <div class="login-box">
            <div style="width:70px; height:70px; background:var(--primary); border-radius:50%; margin: 0 auto 20px;"></div>
            <h3>Aiden Becker</h3>
            <input type="password" id="pw" placeholder="PASSWORD" style="background:#111; border:1px solid #333; color:#fff; padding:12px; border-radius:8px; width:100%; text-align:center; margin-top:15px;" onkeypress="if(event.key==='Enter') unlock()">
        </div>
    </div>

    <div id="about-popup">
        <h2 style="color:var(--primary)">About_Me.txt</h2>
        <hr style="border:0; border-top:1px solid #333; margin:15px 0;">
        <p style="line-height:1.6; font-size:0.9rem;">
            Hello! I'm Aiden. I'm a developer obsessed with creating immersive digital environments.<br><br>
            I specialize in UI/UX, systems design, and audio integration. This OS is a sandbox of my latest experiments.
        </p>
        <button onclick="document.getElementById('about-popup').style.display='none'" style="margin-top:20px; background:var(--primary); border:none; padding:8px 15px; border-radius:5px; font-weight:bold; cursor:pointer;">Close</button>
    </div>

    <div id="ctx-menu">
        <div class="ctx-item" id="ctx-open" onclick="openAbout()">Open</div>
        <div class="ctx-item" onclick="createNewFile()">New File</div>
        <div class="ctx-item" onclick="location.reload()">Restart System</div>
    </div>

    <div id="os-interface">
        <nav>
            <div style="font-weight: 700;">SYSTEM_ROOT</div>
            <div class="nav-links">
                <button class="nav-btn active" id="btn-desktop" onclick="showDesktop()">DESKTOP</button>
                <button class="nav-btn" id="btn-music" onclick="openMenu('music')">MUSIC</button>
                <button class="nav-btn" id="btn-themes" onclick="openMenu('themes')">THEMES</button>
            </div>
            <div id="clock">00:00:00</div>
        </nav>

        <main id="desktop" ondragover="event.preventDefault()" ondrop="handleDrop(event)">
            <div class="sidebar">
                <div class="desktop-icon" id="trash-bin" ondragover="event.preventDefault()" ondrop="handleTrash(event)">
                    <div style="font-size:1.8rem">üóëÔ∏è</div>Trash
                </div>
            </div>

            <div id="music-page" class="page-overlay">
                <h1>Audio Engine</h1>
                <div id="music-list" style="margin-top:20px;"></div>
            </div>

            <div id="themes-page" class="page-overlay">
                <h1>Visual Modules (30+)</h1>
                <div id="theme-grid" style="display:grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap:15px; margin-top:20px;"></div>
            </div>

            <div class="file-node" id="about-file" draggable="true" ondragstart="dragStart(event)" style="left:120px; top:40px;" oncontextmenu="setAboutCtx(event)">
                <div style="color:var(--primary)">üìÑ</div><span>About_Me</span>
            </div>
        </main>

        <footer>
            <div id="sys-msg">STATUS: READY</div>
            <div>AIDEN_OS v4.2</div>
        </footer>
    </div>

    <script>
        let audioCtx;

        function playSound(freq, type = 'sine', duration = 0.1) {
            if(!audioCtx) audioCtx = new AudioContext();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);
            osc.connect(gain); gain.connect(audioCtx.destination);
            osc.start(); osc.stop(audioCtx.currentTime + duration);
        }

        function initKernel() {
            playSound(440, 'triangle', 0.5);
            document.getElementById('boot-status').innerText = "BOOTING...";
            setTimeout(() => {
                document.getElementById('boot-screen').style.display = 'none';
                document.getElementById('login-screen').style.display = 'flex';
            }, 1000);
        }

        function unlock() {
            playSound(880);
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('os-interface').style.display = 'flex';
        }

        function showDesktop() {
            playSound(600);
            document.querySelectorAll('.page-overlay').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('btn-desktop').classList.add('active');
        }

        function openMenu(m) {
            playSound(700);
            document.querySelectorAll('.page-overlay').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(m + '-page').classList.add('active');
            document.getElementById('btn-' + m).classList.add('active');
        }

        function openAbout() {
            playSound(900);
            document.getElementById('about-popup').style.display = 'block';
            hideCtx();
        }

        // --- FILE SYSTEM ---
        function dragStart(e) { e.dataTransfer.setData("text", e.target.id); }
        function handleDrop(e) {
            e.preventDefault();
            const id = e.dataTransfer.getData("text");
            const el = document.getElementById(id);
            if(el) { el.style.left = e.clientX - 45 + 'px'; el.style.top = e.clientY - 45 + 'px'; }
        }
        function handleTrash(e) {
            const id = e.dataTransfer.getData("text");
            if(id === 'about-file') {
                playSound(150, 'square', 0.3);
                document.getElementById('sys-msg').innerText = "ERROR: SYSTEM FILE PROTECTED";
                return;
            }
            document.getElementById(id).remove();
            playSound(200);
        }

        // --- CONTEXT MENU ---
        function handleGlobalCtx(e) {
            e.preventDefault();
            document.getElementById('ctx-open').style.display = 'none';
            const menu = document.getElementById('ctx-menu');
            menu.style.display = 'block'; menu.style.left = e.clientX + 'px'; menu.style.top = e.clientY + 'px';
        }
        function setAboutCtx(e) {
            e.preventDefault(); e.stopPropagation();
            const menu = document.getElementById('ctx-menu');
            document.getElementById('ctx-open').style.display = 'block';
            menu.style.display = 'block'; menu.style.left = e.clientX + 'px'; menu.style.top = e.clientY + 'px';
        }
        function hideCtx() { document.getElementById('ctx-menu').style.display = 'none'; }
        document.addEventListener('click', hideCtx);

        // --- THEMES (30+) ---
        const themes = [
            {n:"Nirvana", c:"#00f2ff"}, {n:"Cyberpunk", c:"#f3ec19"}, {n:"Matrix", c:"#00ff41"}, {n:"Nord", c:"#88c0d0"},
            {n:"Vapor", c:"#ff71ce"}, {n:"Blood", c:"#ff4444"}, {n:"Amber", c:"#ffb000"}, {n:"Dracula", c:"#bd93f9"},
            {n:"Forest", c:"#50fa7b"}, {n:"Ocean", c:"#0077be"}, {n:"Sakura", c:"#ffb7c5"}, {n:"Coffee", c:"#6f4e37"},
            {n:"Slate", c:"#708090"}, {n:"Fire", c:"#ff4500"}, {n:"Mint", c:"#98ff98"}, {n:"Gold", c:"#ffd700"},
            {n:"Retro", c:"#ff9900"}, {n:"Toxic", c:"#ccff00"}, {n:"Deep", c:"#191970"}, {n:"Ghost", c:"#f8f8f2"},
            {n:"Rose", c:"#e0115f"}, {n:"Teal", c:"#008080"}, {n:"Bronze", c:"#cd7f32"}, {n:"Neon", c:"#39ff14"},
            {n:"Sky", c:"#87ceeb"}, {n:"Berry", c:"#800080"}, {n:"Lime", c:"#32cd32"}, {n:"Cream", c:"#fffdd0"},
            {n:"Midnight", c:"#000033"}, {n:"Sun", c:"#fdb813"}
        ];
        const tGrid = document.getElementById('theme-grid');
        themes.forEach(t => {
            const d = document.createElement('div'); d.className = 'theme-card';
            d.innerHTML = `<div style="height:25px; background:${t.c}; border-radius:4px; margin-bottom:8px"></div>${t.n}`;
            d.onclick = () => { document.documentElement.style.setProperty('--primary', t.c); playSound(1000); };
            tGrid.appendChild(d);
        });

        setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);
    </script>
</body>
</html>
